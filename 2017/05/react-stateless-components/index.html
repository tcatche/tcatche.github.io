<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>React - Stateless Function Component | TryCatch</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="react" />
    
    

    

    

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/libs/titillium-web/styles.css">

    
<link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="//at.alicdn.com/t/font_2757668_82oan8olqo.css">

    
<link rel="stylesheet" href="/css/style.css">


    
<script src="/libs/jquery/2.0.3/jquery.min.js"></script>

    
    
        
<link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">

    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-92905809-1', 'auto');
ga('send', 'pageview');

</script>
    
    
        <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?409648b1638886ada0891d05cc80dc19";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    
    
        <script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
    
    

    <div class="super-board">
  <div class="super-board-mask"></div>
  <div class="super-board-container">
    <div class="super-board-top">
      <div class="sider-header">
        <span class="iconfont icon-super"></span>
        <span class="title">超级面板</span>
      </div>
    </div>
    <div class="super-board-middle">
      <div class="super-board-sider">
        <div class="sider-item" data-target="TOC">
          <span class="iconfont icon-toc"></span>
          <span class="title">文章目录</span>
        </div>
        <div class="sider-item" data-target="NEW">
          <span class="iconfont icon-history"></span>
          <span class="title">最新文章</span>
        </div>
        <div class="sider-item" data-target="UPDATED">
          <span class="iconfont icon-new"></span>
          <span class="title">最近更新</span>
        </div>
        <div class="sider-item" data-target="CATEGORIES">
          <span class="iconfont icon-category"></span>
          <span class="title">文章分类</span>
        </div>
        <div class="sider-item" data-target="TAGS">
          <span class="iconfont icon-tag"></span>
          <span class="title">标签列表</span>
        </div>
        <div class="sider-item" data-target="ARCHIVES">
          <span class="iconfont icon-archives"></span>
          <span class="title">文章归档</span>
        </div>
        <div class="sider-item" data-target="">
          <span class="iconfont"></span>
          <span class="title"></span>
        </div>
        <div class="sider-item" data-target="">
          <span class="iconfont"></span>
          <span class="title"></span>
        </div>
      </div>
      <div class="super-board-detail-wrapper">
        <div class="super-board-detail-container"></div>
      </div>
      <div class="super-board-posts-wrapper hide">
        <div class="super-board-posts-container"></div>
      </div>
    </div>
    <div class="super-board-input-wrapper" style="display: none">
        <input type="text" class="super-board-search-input" placeholder="想要查找什么..." />
    </div>
    <div class="super-board-search-close">
      <span class="iconfont icon-close"></span>
    </div>
  </div>
</div>
<script>
(function (window) {
  var INSIGHT_CONFIG = {
    TRANSLATION: {
        POSTS: '最新文章',
        PAGES: '页面',
        CATEGORIES: '文章分类',
        TAGS: '文章标签',
        UNTITLED: '(未命名)',
    },
    ROOT_URL: '/',
    CONTENT_URL: '/content.json',
  };
  window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/super-board.js"></script>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script async src="https://cdn.jsdelivr.net/gh/ireade/caniuse-embed/public/caniuse-embed.min.js"></script>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="page-percent"><div></div></div>
  <header id="header">
  <a class="logo-container" href="/">
    <img src="/images/avatar.png" alt="Author's avatar">
    <span class="header-author">
      tcatche
    </span>
  </a>
  <div id="header-nav" class="nav-container">
    <ul>
      
          <li class="main-nav-list-item" >
            <a class="main-nav-list-link" href="/">主页</a>
          </li>
      
          
              <li class="main-nav-list-item show-super-board" data-target="js" data-type="CATEGORIES">js</li>
          
              <li class="main-nav-list-item show-super-board" data-target="翻译" data-type="CATEGORIES">翻译</li>
          
              <li class="main-nav-list-item show-super-board" data-target="css" data-type="CATEGORIES">css</li>
          
              <li class="main-nav-list-item show-super-board" data-target="其它" data-type="CATEGORIES">其它</li>
          
              <li class="main-nav-list-item show-super-board" data-target="html" data-type="CATEGORIES">html</li>
          
              <li class="main-nav-list-item show-super-board" data-target="转载" data-type="CATEGORIES">转载</li>
          
        
    </ul>
  </div>
</header>
  <div class="main-body container-inner">
    <div class="main-body-inner">
      <section id="main">
        <div class="main-body-content">
          <article id="post-react-stateless-components" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <header class="article-header" >
        
    
        <h1 class="article-title" itemprop="name">
        React - Stateless Function Component
        </h1>
    

        <div class="article-subtitle">
            <div class="article-meta">
                <div class="article-category meta-item">
    <i class="iconfont icon-calendar"></i>
    <span class="post-category show-super-board clickable" data-target="2017" data-type="ARCHIVES">
        2017-05-23
    </span>
</div>
                
    <span class="word-count meta-item">
      <i class="iconfont icon-shuliang"></i>
      字数: 1.7k
    </span>
    <span class="word-count meta-item">
      <i class="iconfont icon-countdown"></i>
      阅读时长: 10mins
    </span>

                <span class="article-reads">
                    <i class="iconfont icon-eye"></i>
                    <span id="busuanzi_container_page_pv">
                        <span>
                            阅读次数: <span id="busuanzi_value_page_pv"></span>次
                        </span>
                    </span>
                </span>
                
    <div class="article-category meta-item">
        <i class="iconfont icon-category"></i>分类：
        
        
            <span class="post-category show-super-board clickable" data-target="js" data-type="CATEGORIES">js</span>
        
    </div>

                
    
    <div class="article-tag meta-item">
        <i class="iconfont icon-tag"></i>标签：
        
            <span class="post-tag show-super-board clickable" data-target="react" data-type="TAGS">react</span>
        
    </div>

            </div>
        </div>
    </header>
    <div class="article-inner">
        
        <div class="article-entry" itemprop="articleBody">
            <p><code>Stateless Function Component（SFC， 无状态组件）</code> 是 <code>React v0.14.0</code> 引入的一种新的创建组件的方式，这个方式大大提升了“纯组件”的编写速度和便捷性，而且还能有效提升组价的性能。</p>
<h2 id="常规的组件"><a href="#常规的组件" class="headerlink" title="常规的组件"></a>常规的组件</h2><p>通常情况下，我们是使用 <code>React.createClass()</code> 或者 <code>class MyComponent extends React.Component</code> 创建组件，但是很多时候，我们需要的组件仅仅是一个简单的渲染数据的模板，这种情况下，这种方式创建的组件无疑十分的繁琐，可以看一个例子：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Widget</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> propTypes = &#123;</span><br><span class="line">    <span class="attr">onClick</span>: React.PropTypes.func.isRequired,</span><br><span class="line">    <span class="attr">children</span>: React.PropTypes.element.isRequired</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  _handleClick = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//do sth</span></span><br><span class="line">    <span class="built_in">this</span>.props.onClick(e);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    returen (</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onClick</span>=<span class="string">&#123;this._handleClick&#125;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        &#123;this.props.children&#125;</span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以看到，这个组件没有任何的内部状态 <code>state</code> ，也没有任何的生命周期相关的操作，只接受一些参数，并根据参数渲染结果，任意相同的输入，必定会获得相同的输出结果，也不太需要关心其生命周期。</p>
<p>对于这种无状态的组件，完全可以使用 <code>SFC</code> 的方式创建。</p>
<h2 id="Stateless-Function-Component"><a href="#Stateless-Function-Component" class="headerlink" title="Stateless Function Component"></a>Stateless Function Component</h2><p>先来看下使用这种方式改写的代码：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> _handleClick = <span class="function">(<span class="params">event, onClick</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//do sth</span></span><br><span class="line">  <span class="built_in">this</span>.props.onClick(event);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Widget = <span class="function">(<span class="params">props, context</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onClick</span>=<span class="string">&#123;e</span> =&gt;</span> _handleClick(e, props.onClick)&#125;&gt;&#123;props.children&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line"></span><br><span class="line">Widget.propTypes = &#123;</span><br><span class="line">  <span class="attr">onClick</span>: React.PropTypes.func.isRequired,</span><br><span class="line">  <span class="attr">children</span>: React.PropTypes.element.isRequired</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>不仅降低了代码的数量，而且提升了代码的可读性。</p>
<p>无状态组件实际上就是一个函数，函数接受两个参数，第一个是 <code>props</code> 第二个是 <code>context</code> ，返回一个 <code>render</code> 的内容。而且在渲染的时候由于是无状态的，可以省略将组件类实例化的过程，性能会更好。</p>
<blockquote>
<p>This pattern is designed to encourage the creation of these simple components that should comprise large portions of your apps. In the future, we’ll also be able to make performance optimizations specific to these components by avoiding unnecessary checks and memory allocations.</p>
</blockquote>
<p>React 官方也建议采用这种模式创建简单的组件，对于有状态的组件，可以使用有状态的组件处理数据，把它们的 state 传递给无状态的组件进行内容的渲染:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Container</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    <span class="attr">text</span>: <span class="string">&quot;init text&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">_handleClick</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;<span class="attr">text</span>: <span class="string">&quot;click text&quot;</span>&#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">Widget</span> <span class="attr">onClick</span>=<span class="string">&#123;this._handleClick&#125;</span>&gt;</span>&#123;this.state.text&#125;<span class="tag">&lt;/<span class="name">Widget</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong>由于 <code>SFC</code> 没有实例化的过程，因此不能使用 <code>this</code> 指针，也不能使用 <code>ref</code> 指针。</p>
<h2 id="SFC-与函数"><a href="#SFC-与函数" class="headerlink" title="SFC 与函数"></a>SFC 与函数</h2><p>SFC 本质上是一个函数，所以定义的 SFC 大部分情况下即可以当做组件用，也可以当作函数使用。</p>
<p>如下面这个乍一看没有什么意义的组件，用来给元素包括一层 <code>div</code>：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> DivWrapper = <span class="function">(<span class="params">&#123; className, children &#125;</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;className&#125;</span>&gt;</span>&#123; children &#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br></pre></td></tr></table></figure>

<p>在使用的时候我们可以直接当做 SFC 组件使用，也可以直接当做函数调用：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;DivWrapper className=<span class="string">&quot;wrapper&quot;</span>&gt;It used <span class="keyword">as</span> SFC&lt;/DivWrapper&gt;</span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line"><span class="comment">// const createDivWrapper 是为了使函数命名更规范，没有其他实际意义</span></span><br><span class="line"><span class="keyword">const</span> createDivWrapper = DivWrapper;</span><br><span class="line">createDivWrapper(&#123;<span class="attr">className</span>: <span class="string">&#x27;wrapper&#x27;</span>, <span class="attr">children</span>: <span class="string">&#x27;It used as function call&#x27;</span> &#125;);</span><br></pre></td></tr></table></figure>

<p>在上面这个示例中 实际是没有什么区别的，但是当我们的父元素使用 <code>cloneElement</code> 动态给其子元素注入属性的时候，会有很大区别，看下面这个例子：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; Component, Children, cloneElement &#125; = React;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这个无聊的组件为每个自己的子元素绑定了一个额外的 click 事件</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        &#123;</span></span><br><span class="line"><span class="xml">          Children.map(</span></span><br><span class="line"><span class="xml">            this.props.children,</span></span><br><span class="line"><span class="xml">            (child, index) =&gt; cloneElement(child, &#123;...child.props, onClick: () =&gt; console.log(child.props.children)&#125;)</span></span><br><span class="line"><span class="xml">          )</span></span><br><span class="line"><span class="xml">        &#125;</span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line">&lt;Parent&gt;</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">DivWrapper</span> <span class="attr">className</span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span>It used as SFC<span class="tag">&lt;/<span class="name">DivWrapper</span>&gt;</span></span></span><br><span class="line">  &#123;</span><br><span class="line">    createDivWrapper(&#123;<span class="attr">className</span>: <span class="string">&#x27;wrapper&#x27;</span>, <span class="attr">children</span>: <span class="string">&#x27;It used as function call&#x27;</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/Parent&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 尝试分别点击 “It used as SFC” 和 “It used as function call”</span></span><br><span class="line"><span class="comment">// 点击 “It used as SFC” 不触发事件</span></span><br><span class="line"><span class="comment">// 点击 “It used as function call” 控制台打印日志 “It used as function call”</span></span><br></pre></td></tr></table></figure>

<p>上面我们创建了一个组件，组件动态为自己的每个子元素注入一个新的点击事件，然后我们点击它的子元素发现，当作为 SFC 调用时并没有相应额外传递进来的 onClick 事件，而<br>作为函数调用却能够触发事件。</p>
<p>首先我们来这两种使用方式的区别：使用了 SFC ，Parent 的子元素是 Parent 组件，而是用了函数调用，Parent 的子元素是 div 元素。所以，当我们的 SFC 并没有提供对额外的属性响应处理时候，这个传递来的属性会丢失。</p>
<p>我们来个一个实际的例子，当我们在使用一些外部类库的时候，如<a target="_blank" rel="noopener" href="https://github.com/react-component/collapse">rc-collapse</a>，如果面板非常复杂，有时候会写出这样的代码：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 创建一个复杂的title</span></span><br><span class="line"><span class="keyword">const</span> createComplexTitle = <span class="function">(<span class="params">props</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">ComplexTitle</span> &#123; <span class="attr">...props</span> &#125;/&gt;</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个复杂的title</span></span><br><span class="line"><span class="keyword">const</span> createComplexContent = <span class="function">(<span class="params">props</span>) =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">ComplexContent</span> &#123; <span class="attr">...props</span> &#125;/&gt;</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> PanelWrapper = <span class="function">(<span class="params">&#123; data &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 进行数据处理判断</span></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">Collapse.Panel</span> <span class="attr">header</span>=<span class="string">&#123;createComplexTitle(data)&#125;</span>&gt;</span></span></span><br><span class="line"><span class="xml">      &#123;createComplexContent(data)&#125;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">Collapse.Panel</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> createPanel = PanelWrapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> collapse1 = <span class="function"><span class="params">array</span> =&gt;</span> (</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">Collapse</span>&gt;</span></span></span><br><span class="line"><span class="xml">    &#123;</span></span><br><span class="line"><span class="xml">      array.map(item =&gt; <span class="tag">&lt;<span class="name">PanelWrapper</span> <span class="attr">data</span>=<span class="string">&#123;item&#125;/</span>&gt;</span>)</span></span><br><span class="line"><span class="xml">    &#125;</span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">Collapse</span>&gt;</span></span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">const</span> collapse2 = <span class="function"><span class="params">array</span> =&gt;</span> (</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">Collapse</span>&gt;</span></span></span><br><span class="line"><span class="xml">    &#123;</span></span><br><span class="line"><span class="xml">      array.map(item =&gt; createPanel(item))</span></span><br><span class="line"><span class="xml">    &#125;</span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">Collapse</span>&gt;</span></span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>如上例子，这个面板非常复杂，我们需要将其封装出来处理，这样就会有以上 <code>collapse1</code> 和 <code>collapse2</code> 写法，而 <code>collapse1</code> 写法会丢失一些来自 <code>Collapse</code> 父组件传递的 <code>props</code>，除非我们添加了额外的处理：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 可行但不推荐</span></span><br><span class="line"><span class="keyword">const</span> PanelCreater = <span class="function">(<span class="params">&#123; data, ...props &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 进行数据处理判断</span></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">Panel</span> <span class="attr">header</span>=<span class="string">&#123;createComplexTitle(data)&#125;,</span> &#123; <span class="attr">...props</span> &#125;&gt;</span></span></span><br><span class="line"><span class="xml">      &#123;createComplexContent(data)&#125;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">Panel</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>改成这样后虽然能够处理额外的属性，但是会导致对组件的行为不可控制，我们不知道我们写出来的组件会最终变成什么样子，违背了组件设计的初衷，所以还是建议使用第二种写法。</p>
<p>大部分这样的组件都会对其子元素的类型进行要求，比如 <a target="_blank" rel="noopener" href="https://reacttraining.com/react-router">react-router</a>，它的 <code>&lt;Switch&gt;</code> 组件要求子元素必须为 <code>&lt;Route&gt;</code> 或 <code>&lt;Redirect&gt;</code>，因为它就是使用 <code>cloneElement</code> 把 <code>location</code> 等属性写给路由对应的组件，如果我们在自己写这样类库的时候，也可以对 <code>children</code> 类型进行检查和限制，并能够对于不满足条件的子元素进行警告。</p>
<p>比如，我们来对 <code>&lt;Collapse&gt;</code> 组件的子元素进行限制:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> PropTypes <span class="keyword">from</span> <span class="string">&#x27;prop-types&#x27;</span>;</span><br><span class="line"></span><br><span class="line">Collapse.propTypes = &#123;</span><br><span class="line">  <span class="comment">// ... other props</span></span><br><span class="line">  <span class="attr">children</span>: PropTypes.arrayOf(PropTypes.instanceOf(Collapse.Panel))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://toddmotto.com/stateless-react-components/?utm_source=tuicool&utm_medium=referral">Stateless React components</a></li>
<li><a target="_blank" rel="noopener" href="http://www.jianshu.com/p/63569386befc">无状态组件(Stateless Component) 与高阶组件</a></li>
</ul>

        </div>
        
<footer class="article-footer">
  <div class="cc">
    <a class="cc-images" rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">
      <img alt="知识共享许可协议" style="border-width:0" src="/images/chooser_cc.png" />
      <img alt="知识共享许可协议" style="border-width:0" src="/images/chooser_by.png" />
      <img alt="知识共享许可协议" style="border-width:0" src="/images/chooser_nc.png" />
    </a>
    <span class="cc-text"> 本网站<strong>原创内容（非转载文章）</strong>采用
      <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">
        知识共享署名-非商业性使用 4.0 国际许可协议</a>
      进行许可。
    </span>
  </div>
</footer>
    </div>
</article>

    <section id="comments">
    
        
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<!--  
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
-->
<div id="comment-container"></div>
<script>
  $(function() {
    setTimeout(function() {
      var gitalk = new Gitalk({
        clientID: '010a558ff67c828f318a',
        clientSecret: '08a6f4955996cb3d6ecb5fdfb4d564a9297a264b',
        repo: 'tcatche.github.io.comments',
        owner: 'tcatche',
        admin: ['tcatche'],
        id: location.pathname.substr(0, 50),      // Ensure uniqueness and length less than 50
        distractionFreeMode: true,
        perPage: 30
      });
      gitalk.render('comment-container');
  
      // var gitment = new Gitment({
      //   id: location.pathname, // 可选。默认为 location.href
      //   owner: 'tcatche',
      //   repo: 'tcatche.github.io.comments',
      //   oauth: {
      //     client_id: '010a558ff67c828f318a',
      //     client_secret: '08a6f4955996cb3d6ecb5fdfb4d564a9297a264b',
      //   },
      // })
      // gitment.render('comment-container');
    }, 100)
  })
</script>
    
    </section>


        </div>
      </section>
      
    </div>
  </div>
  <footer id="footer">
    <div class="container-inner">
        <div class="logo-wrap">
            <a href="/" class="logo"></a>
        </div>
        <div class="credit">
            <p>&copy; 2016 - 2021 tcatche</p>
            <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Hosted by <a  target="_blank" rel="noopener" href="https://pages.github.com/">Github Pages</a>. </p>
            <p>Theme based <a href="//github.com/ppoffice" target="_blank">PPOffice</a> and modify by Tcatche. </p>
            <p>
                <span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span>
                <!-- <span id="busuanzi_container_site_uv" style="display: none">总访客<span id="busuanzi_value_site_uv"></span>人</span> -->
            </p>
        </div>
    </div>
</footer>
  <div id="fixed">
  <i class="fa-search ins-search-icon hide" name="search"></i>
  <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-image-wrapper"></div>
        <div class="ins-bookmark-wrapper">
            <div class="ins-bookmark-container"></div>
        </div>
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
        <div class="ins-search-close">&times;</div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '最新文章',
            PAGES: '页面',
            CATEGORIES: '文章分类',
            TAGS: '文章标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>

  <i id="back-to-top" class="iconfont show-super-board-icon icon-super" name="goto top"></i>
  <i id="back-to-top" class="iconfont icon-icon_message" name="goto top"></i>
</div>
  


    
        
<script src="/libs/lightgallery/js/lightgallery.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-pager.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-zoom.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-hash.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-share.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-video.min.js"></script>

    


<!-- Custom Scripts -->

<script src="/js/main.js"></script>


</body>
</html>
