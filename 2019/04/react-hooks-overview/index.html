<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>React Hooks æ–‡æ¡£ç¿»è¯‘ - 2 - Hooks at a Glanceï¼ˆHooks ä¸€è§ˆï¼‰ | TryCatch</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
        <meta name="keywords" content="react,ç¿»è¯‘,hooks" />
    
    

    

    

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/libs/titillium-web/styles.css">

    
<link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="//at.alicdn.com/t/font_2757668_18zkz01yag7.css">

    
<link rel="stylesheet" href="/css/style.css">


    
<script src="/libs/jquery/2.0.3/jquery.min.js"></script>

    
    
        
<link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">

    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-92905809-1', 'auto');
ga('send', 'pageview');

</script>
    
    
        <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?409648b1638886ada0891d05cc80dc19";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>

    
    
        <script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
    
    

    <div class="super-board">
  <div class="super-board-mask"></div>
  <div class="super-board-container">
    <div class="super-board-top">
      <div class="sider-header">
        <span class="iconfont icon-super"></span>
        <span class="title">è¶…çº§é¢æ¿</span>
      </div>
    </div>
    <div class="super-board-middle">
      <div class="super-board-sider">
        <div class="sider-item" data-target="TOC">
          <span class="iconfont icon-toc"></span>
          <span class="title">æ–‡ç« ç›®å½•</span>
        </div>
        <div class="sider-item" data-target="NEW">
          <span class="iconfont icon-history"></span>
          <span class="title">æœ€æ–°æ–‡ç« </span>
        </div>
        <div class="sider-item" data-target="UPDATED">
          <span class="iconfont icon-new"></span>
          <span class="title">æœ€è¿‘æ›´æ–°</span>
        </div>
        <div class="sider-item" data-target="CATEGORIES">
          <span class="iconfont icon-category"></span>
          <span class="title">æ–‡ç« åˆ†ç±»</span>
        </div>
        <div class="sider-item" data-target="TAGS">
          <span class="iconfont icon-tag"></span>
          <span class="title">æ ‡ç­¾åˆ—è¡¨</span>
        </div>
        <div class="sider-item" data-target="ARCHIVES">
          <span class="iconfont icon-archives"></span>
          <span class="title">æ–‡ç« å½’æ¡£</span>
        </div>
        <div class="sider-item" data-target="">
          <span class="iconfont"></span>
          <span class="title"></span>
        </div>
        <div class="sider-item" data-target="">
          <span class="iconfont"></span>
          <span class="title"></span>
        </div>
      </div>
      <div class="super-board-detail-wrapper">
        <div class="super-board-detail-container"></div>
      </div>
      <div class="super-board-posts-wrapper hide">
        <div class="super-board-posts-container"></div>
      </div>
    </div>
    <div class="super-board-input-wrapper" style="display: none">
        <input type="text" class="super-board-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..." />
    </div>
    <div class="super-board-search-close">
      <span class="iconfont icon-close"></span>
    </div>
  </div>
</div>
<script>
(function (window) {
  var INSIGHT_CONFIG = {
    TRANSLATION: {
        POSTS: 'æœ€æ–°æ–‡ç« ',
        PAGES: 'é¡µé¢',
        CATEGORIES: 'æ–‡ç« åˆ†ç±»',
        TAGS: 'æ–‡ç« æ ‡ç­¾',
        UNTITLED: '(æœªå‘½å)',
    },
    ROOT_URL: '/',
    CONTENT_URL: '/content.json',
  };
  window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/super-board.js"></script>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script async src="https://cdn.jsdelivr.net/gh/ireade/caniuse-embed/public/caniuse-embed.min.js"></script>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="page-percent"><div></div></div>
  <header id="header">
  <div class="logo-container">
    <img src="/images/avatar.png" alt="Author's avatar">
    <span class="header-author">
      tcatche
    </span>
  </div>
  <div id="header-nav" class="nav-container">
    <ul>
      
          <li class="main-nav-list-item" >
            <a class="main-nav-list-link" href="/">ä¸»é¡µ</a>
          </li>
      
          
              <li class="main-nav-list-item show-super-board" data-target="js" data-type="CATEGORIES">js</li>
          
              <li class="main-nav-list-item show-super-board" data-target="ç¿»è¯‘" data-type="CATEGORIES">ç¿»è¯‘</li>
          
              <li class="main-nav-list-item show-super-board" data-target="css" data-type="CATEGORIES">css</li>
          
              <li class="main-nav-list-item show-super-board" data-target="å…¶å®ƒ" data-type="CATEGORIES">å…¶å®ƒ</li>
          
              <li class="main-nav-list-item show-super-board" data-target="html" data-type="CATEGORIES">html</li>
          
              <li class="main-nav-list-item show-super-board" data-target="è½¬è½½" data-type="CATEGORIES">è½¬è½½</li>
          
        
    </ul>
  </div>
</header>
  <div class="main-body container-inner">
    <div class="main-body-inner">
      <section id="main">
        <div class="main-body-content">
          <article id="post-react-hooks-overview" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <header class="article-header" >
        
    
        <h1 class="article-title" itemprop="name">
        React Hooks æ–‡æ¡£ç¿»è¯‘ - 2 - Hooks at a Glanceï¼ˆHooks ä¸€è§ˆï¼‰
        </h1>
    

        <div class="article-subtitle">
            <div class="article-meta">
                <div class="article-category meta-item">
    <i class="iconfont icon-calendar"></i>
    <span class="post-category show-super-board clickable" data-target="2019" data-type="ARCHIVES">
        2019-04-03
    </span>
</div>
                
    <span class="word-count meta-item">
      <i class="iconfont icon-shuliang"></i>
      å­—æ•°: 2.5k
    </span>
    <span class="word-count meta-item">
      <i class="iconfont icon-countdown"></i>
      é˜…è¯»æ—¶é•¿: 15mins
    </span>

                <span class="article-reads">
                    <i class="iconfont icon-eye"></i>
                    <span id="busuanzi_container_page_pv">
                        <span>
                            é˜…è¯»æ¬¡æ•°: <span id="busuanzi_value_page_pv"></span>æ¬¡
                        </span>
                    </span>
                </span>
                
    <div class="article-category meta-item">
        <i class="iconfont icon-category"></i>åˆ†ç±»ï¼š
        
        
            <span class="post-category show-super-board clickable" data-target="ç¿»è¯‘" data-type="CATEGORIES">ç¿»è¯‘</span>
        
    </div>

                
    
    <div class="article-tag meta-item">
        <i class="iconfont icon-tag"></i>æ ‡ç­¾ï¼š
        
            <span class="post-tag show-super-board clickable" data-target="react" data-type="TAGS">react</span>
        
            <span class="post-tag show-super-board clickable" data-target="ç¿»è¯‘" data-type="TAGS">ç¿»è¯‘</span>
        
            <span class="post-tag show-super-board clickable" data-target="hooks" data-type="TAGS">hooks</span>
        
    </div>

            </div>
        </div>
    </header>
    <div class="article-inner">
        
        <div class="article-entry" itemprop="articleBody">
            <p><strong>ç¿»è¯‘è‡ªï¼š<a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-overview.html">https://reactjs.org/docs/hooks-overview.html</a></strong></p>
<p>Hooks æ˜¯ React 16.8 æ–°å¢çš„åŠŸèƒ½ã€‚å®ƒå…è®¸ä½ åœ¨ä¸ç¼–å†™ç±»çš„æƒ…å†µä¸‹ä½¿ç”¨çŠ¶æ€å’Œå…¶ä»– React ç‰¹æ€§ã€‚</p>
<p>Hooks æ˜¯<a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-intro.html#no-breaking-changes">å‘åå…¼å®¹çš„</a>ã€‚æœ¬æ–‡ä¸ºç»éªŒä¸°å¯Œçš„ React ç”¨æˆ·æä¾›äº† Hooks çš„æ¦‚è¿°ã€‚è¿™æ˜¯ä¸€ä¸ªå¿«é€Ÿè®²è§£çš„æ¦‚è¿°ã€‚å¦‚æœä½ æ„Ÿåˆ°å›°æƒ‘ï¼Œè¯·æ‰¾è¿™æ ·çš„æ¦‚æ‹¬ï¼š</p>
<blockquote>
<p><strong>è¯¦ç»†è§£é‡Š</strong><br>é˜…è¯»<a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-intro.html#motivation">åŠ¨æœº</a> ä»¥äº†è§£æˆ‘ä»¬ä¸ºä½•å°† Hooks å¼•å…¥Reactã€‚</p>
</blockquote>
<p><strong>â†‘â†‘â†‘ Each section ends with a yellow box like this.</strong> They link to detailed explanations.</p>
<p><strong>â†‘â†‘â†‘ æ¯ä¸€èŠ‚çš„ç»“å°¾éƒ½ä»¥è¿™æ ·çš„é»„è‰²èƒŒæ™¯ç»“æŸï¼ˆè¯‘è€…çš„ä¸»é¢˜ä¸æ˜¯é»„è‰² 2333ï¼‰</strong> å®ƒä»¬é“¾æ¥åˆ°åˆ°è¯¦ç»†çš„è§£é‡Šã€‚</p>
<h2 id="ğŸ“Œ-State-Hook"><a href="#ğŸ“Œ-State-Hook" class="headerlink" title="ğŸ“Œ State Hook"></a>ğŸ“Œ State Hook</h2><p>è¿™ä¸ªç¤ºä¾‹æ¸²æŸ“äº†ä¸€ä¸ªè®¡æ•°å™¨ã€‚å½“ä½ ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œå®ƒä¼šå°†å€¼é€’å¢1ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Declare a new state variable, which we&#x27;ll call &quot;count&quot;</span></span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>You clicked &#123;count&#125; times<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> setCount(count + 1)&#125;&gt;</span></span><br><span class="line"><span class="xml">        Click me</span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>è¿™é‡Œçš„ <code>useState</code> å°±æ˜¯ä¸€ä¸ª <em>Hook</em>ï¼ˆæˆ‘ä»¬å°†åœ¨ç¨åè§£é‡Šå®ƒçš„å«ä¹‰ï¼‰ã€‚æˆ‘ä»¬åœ¨å‡½æ•°ç»„ä»¶ä¸­è°ƒç”¨å®ƒæ¥æ·»åŠ ä¸€äº›å†…éƒ¨çŠ¶æ€ã€‚React å°†åœ¨å¤šæ¬¡æ¸²æŸ“ä¹‹é—´ä¿ç•™æ­¤çŠ¶æ€ã€‚<code>useState</code> è¿”å›ä¸€å¯¹å†…å®¹ï¼šå½“å‰çš„çŠ¶æ€å€¼å’Œæ›´æ–°è¿™ä¸ªçŠ¶æ€å€¼çš„å‡½æ•°ã€‚ä½ å¯ä»¥ä»äº‹ä»¶å¤„ç†ç¨‹åºæˆ–å…¶ä»–ä½ç½®è°ƒç”¨æ­¤å‡½æ•°ã€‚å®ƒç±»ä¼¼äºç±»ä¸­çš„<code>this.setState</code>ï¼Œé™¤äº†å®ƒä¸ä¼šå°†æ—§çŠ¶æ€å’Œæ–°çŠ¶æ€åˆå¹¶åœ¨ä¸€èµ·ã€‚<br>ï¼ˆæˆ‘ä»¬å°†åœ¨<a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-state.html">ä½¿ç”¨ State Hook</a> ä½¿ç”¨ç¤ºä¾‹æ¯”è¾ƒ <code>useState</code> ä¸ <code>this.state</code> ã€‚ï¼‰</p>
<p><code>useState</code> çš„å”¯ä¸€å‚æ•°æ˜¯åˆå§‹çŠ¶æ€ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå®ƒæ˜¯ <code>0</code> ï¼Œå› ä¸ºæˆ‘ä»¬çš„è®¡æ•°å™¨ä»é›¶å¼€å§‹ã€‚è¯·æ³¨æ„ï¼Œä¸ <code>this.state</code> ä¸åŒæ—³æ˜¯ï¼ŒçŠ¶æ€å€¼ä¸å¿…æ˜¯å¯¹è±¡ â€“ å®ƒå¯ä»¥æ˜¯ä»»æ„ä½ å¸Œæœ›çš„ç±»å‹ã€‚åˆå§‹çŠ¶æ€å‚æ•°ä»…åœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶ä½¿ç”¨ã€‚</p>
<h4 id="Declaring-multiple-state-variables"><a href="#Declaring-multiple-state-variables" class="headerlink" title="Declaring multiple state variables"></a>Declaring multiple state variables</h4><p>å£°æ˜å¤šä¸ªçŠ¶æ€å˜é‡</p>
<p>ä½ å¯ä»¥åœ¨åŒä¸€ä¸ªç»„ä»¶ä¸­å¤šæ¬¡ä½¿ç”¨ State Hookï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ExampleWithManyStates</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Declare multiple state variables!</span></span><br><span class="line">  <span class="keyword">const</span> [age, setAge] = useState(<span class="number">42</span>);</span><br><span class="line">  <span class="keyword">const</span> [fruit, setFruit] = useState(<span class="string">&#x27;banana&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> [todos, setTodos] = useState([&#123; <span class="attr">text</span>: <span class="string">&#x27;Learn Hooks&#x27;</span> &#125;]);</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-UShttps://reactjs.org/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment#Array_destructuring">æ•°ç»„è§£æ„</a> è¯­æ³•ä½¿æˆ‘ä»¬èƒ½å¤Ÿä¸ºè°ƒç”¨ <code>useState</code> å¾—åˆ°çš„çŠ¶æ€å˜é‡èµ‹äºˆä¸åŒçš„åç§°ã€‚è¿™äº›åå­—ï¼ˆå¦‚ä¸Šé¢ä¾‹å­ä¸­çš„ ageï¼Œfruit, todos è¯‘è€…æ³¨ï¼‰å¹¶ä¸æ˜¯ <code>useState</code> API çš„ä¸€éƒ¨åˆ†ã€‚å¹¶ä¸” React æŒ‡å®šäº†ï¼Œå¦‚æœå¤šæ¬¡è°ƒç”¨ <code>useState</code>ï¼Œåˆ™åœ¨å®ƒä»¬æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½ä¼šä»¥ç›¸åŒçš„é¡ºåºæ‰§è¡Œã€‚ç¨åï¼Œæˆ‘ä»¬å°†è§£é‡Šä¸ºä»€ä¹ˆè¿™æ ·ä»¥åŠä½•æ—¶æœ‰ç”¨ã€‚</p>
<h4 id="But-what-is-a-Hook"><a href="#But-what-is-a-Hook" class="headerlink" title="But what is a Hook?"></a>But what is a Hook?</h4><p>ä½†æ˜¯ï¼Œä»€ä¹ˆæ˜¯ Hook å‘¢ï¼Ÿ</p>
<p>Hooks æ˜¯èƒ½è®©ä½ ä»å‡½æ•°ç»„ä»¶ä¸­ â€œè®¿é—®â€ åˆ° React çŠ¶æ€å’Œç”Ÿå‘½å‘¨æœŸåŠŸèƒ½çš„å‡½æ•°ã€‚Hooks åœ¨ç±»é‡Œä¸èµ·ä½œç”¨ â€“ å®ƒä»¬èƒ½å¤Ÿè®©ä½ ä½¿ç”¨ React ä¸å†™ç±»çš„è¯­æ³•ã€‚ï¼ˆæˆ‘ä»¬<a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-intro.html#gradual-adoption-strategy">ä¸å»ºè®®</a> ä½ ç«‹å³é‡å†™ç°æœ‰çš„ç»„ä»¶ï¼Œä½†å¦‚æœä½ æ„¿æ„ï¼Œå¯ä»¥å¼€å§‹åœ¨æ–°ç»„ä»¶ä¸­ä½¿ç”¨Hookã€‚ï¼‰</p>
<p>React provides a few built-in Hooks like <code>useState</code>. You can also create your own Hooks to reuse stateful behavior between different components. Weâ€™ll look at the built-in Hooks first.</p>
<p>React æä¾›äº†ä¸€äº›åƒ <code>useState</code> è¿™æ ·çš„å†…ç½® Hooksã€‚ä½ è¿˜å¯ä»¥åˆ›å»ºè‡ªå·±çš„ Hooks ä»¥æ–¹ä¾¿åœ¨ä¸åŒç»„ä»¶é—´é‡ç”¨çŠ¶æ€è¡Œä¸ºã€‚æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å†…ç½®çš„ Hooksã€‚</p>
<blockquote>
<p><strong>è¯¦ç»†è¯´æ˜</strong><br>ä½ å¯ä»¥åœ¨æ­¤é¡µé¢ä¸Šäº†è§£æœ‰å…³ State Hook çš„æ›´å¤šä¿¡æ¯ï¼š<a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-state.html">ä½¿ç”¨ State Hook</a>ã€‚</p>
</blockquote>
<h2 id="âš¡ï¸-Effect-Hook"><a href="#âš¡ï¸-Effect-Hook" class="headerlink" title="âš¡ï¸ Effect Hook"></a>âš¡ï¸ Effect Hook</h2><p>ä½ ä¹‹å‰å¾ˆå¯èƒ½åœ¨ React ç»„ä»¶æ‰§è¡Œè¿‡æ•°æ®è·å–ï¼Œè®¢é˜…å†…å®¹æˆ–æ‰‹åŠ¨æ›´æ”¹ DOM çš„æ“ä½œã€‚æˆ‘ä»¬å°†è¿™äº›æ“ä½œç§°ä¸ºâ€œåŒ…å«å‰¯ä½œç”¨çš„æ“ä½œâ€ï¼ˆæˆ–ç®€ç§°ä¸ºâ€œå‰¯ä½œç”¨â€ï¼‰ï¼Œå› ä¸ºå®ƒä»¬ä¼šå½±å“å…¶ä»–ç»„ä»¶ï¼Œå¹¶ä¸”åœ¨æ¸²æŸ“ä¸­æ— æ³•å®Œæˆã€‚</p>
<p>å‰¯ä½œç”¨çš„ Hookï¼Œ<code>useEffect</code> å¢åŠ äº†ä»å‡½æ•°ç»„ä»¶æ‰§è¡Œâ€œå‰¯ä½œç”¨â€çš„åŠŸèƒ½ã€‚å®ƒä¸ React ç±»ä¸­çš„<code>componentDidMount</code>ï¼Œ<code>componentDidUpdate</code> å’Œ <code>componentWillUnmount</code> å…·æœ‰ç›¸åŒçš„ç”¨é€”ï¼Œä½†ç»Ÿä¸€ä¸ºå•ä¸ªAPIã€‚ï¼ˆæˆ‘ä»¬å°†åœ¨<a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-effect.html">ä½¿ç”¨å‰¯ä½œç”¨ Hook</a> è¿™ä¸ªç¤ºä¾‹ä¸­æ¯”è¾ƒå®ƒä»¬çš„å·®å¼‚ã€‚ï¼‰</p>
<p>ä¾‹å¦‚ï¼Œä¸‹é¢è¿™ä¸ªç»„ä»¶åœ¨ React æ›´æ–°åˆ° DOM åè®¾ç½®æ–‡æ¡£æ ‡é¢˜ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Similar to componentDidMount and componentDidUpdate:</span></span><br><span class="line">  useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Update the document title using the browser API</span></span><br><span class="line">    <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;count&#125;</span> times`</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>You clicked &#123;count&#125; times<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> setCount(count + 1)&#125;&gt;</span></span><br><span class="line"><span class="xml">        Click me</span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>å½“è°ƒç”¨ <code>useEffect</code> æ—¶ï¼Œä½ å‘Šè¯‰äº† React åœ¨æ›´æ–° DOM çš„åè¿è¡Œä½ çš„ <code>effect</code> å‡½æ•°ã€‚<code>effect</code> åœ¨ç»„ä»¶å†…å£°æ˜ï¼Œå› æ­¤å¯ä»¥è®¿é—®ç»„ä»¶çš„ props å’Œ state ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒReact åœ¨æ¯æ¬¡æ¸²æŸ“åéƒ½è¿è¡Œ <code>effect</code> â€“<em>åŒ…æ‹¬</em>ç¬¬ä¸€æ¬¡æ¸²æŸ“ã€‚ï¼ˆæˆ‘ä»¬å°†åœ¨<a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-effect.html">ä½¿ç”¨ Effect Hook</a> ä¸­æ›´å¤šåœ°è®¨è®ºå®ƒä¸ç±»ç”Ÿå‘½å‘¨æœŸçš„æ¯”è¾ƒã€‚ï¼‰</p>
<p><code>effect</code> è¿˜å¯ä»¥é€šè¿‡è¿”å›ä¸€ä¸ªå‡½æ•°æ¥æŒ‡å®šå¦‚ä½•â€œæ¸…ç†â€å®ƒä»¬ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢è¿™ä¸ªç»„ä»¶ä½¿ç”¨ <code>effect</code> æ¥è®¢é˜…æœ‹å‹çš„åœ¨çº¿çŠ¶æ€ï¼Œå¹¶é€šè¿‡å–æ¶ˆè®¢é˜…å‡½æ•°æ¥æ¸…ç†ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FriendStatus</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [isOnline, setIsOnline] = useState(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleStatusChange</span>(<span class="params">status</span>) </span>&#123;</span><br><span class="line">    setIsOnline(status.isOnline);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (isOnline === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Loading...&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> isOnline ? <span class="string">&#x27;Online&#x27;</span> : <span class="string">&#x27;Offline&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œå½“ç»„ä»¶å¸è½½æ—¶ï¼Œæˆ–è€…ç”±äºåç»­æ¸²æŸ“è€Œå¯¼è‡´é‡æ–°è¿è¡Œ effect å‰ï¼ŒReact éƒ½å°†å–æ¶ˆè®¢é˜… ChatAPIã€‚<br>ï¼ˆå¦‚æœéœ€è¦çš„è¯ï¼Œæœ‰ä¸€ç§æ–¹æ³•å¯ä»¥<a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-effect.html#tip-optimizing-performance-by-skipping-effects">å‘Šè¯‰ React è·³è¿‡é‡æ–°è®¢é˜…</a>ï¼Œå¦‚æœæˆ‘ä»¬ä¼ é€’ç»™ ChatAPI çš„ props.friend.id æ²¡æœ‰æ”¹å˜ã€‚ï¼‰</p>
<p>å°±åƒä½¿ç”¨ <code>useState</code> ä¸€æ ·ï¼Œä½ å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨å¤šä¸ª effectï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FriendStatusWithCounter</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line">  useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.title = <span class="string">`You clicked <span class="subst">$&#123;count&#125;</span> times`</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> [isOnline, setIsOnline] = useState(<span class="literal">null</span>);</span><br><span class="line">  useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleStatusChange</span>(<span class="params">status</span>) </span>&#123;</span><br><span class="line">    setIsOnline(status.isOnline);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br></pre></td></tr></table></figure>


<p>Hooks èƒ½å¤Ÿè®©ä½ è‡ªç”±åœ°å°†ç»„ä»¶ä¸­ç›¸å…³è”çš„å‰¯ä½œç”¨ï¼ˆä¾‹å¦‚æ·»åŠ å’Œåˆ é™¤è®¢é˜…ï¼‰ç»„ç»‡åœ¨ä¸€èµ·ï¼Œè€Œä¸æ˜¯åƒç±»ç»„ä»¶ä¸€æ ·ï¼Œè¢«ä¸åŒçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•å¼ºåˆ¶æ‹†åˆ†åˆ°ä¸åŒçš„æ–¹æ³•ä¸­ã€‚</p>
<blockquote>
<p><strong>è¯¦ç»†è§£é‡Š</strong><br>ä½ å¯ä»¥åœ¨æ­¤é¡µé¢ä¸Šäº†è§£å…³äº <code>useEffect</code> çš„æ›´å¤šä¿¡æ¯ï¼š<a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-effect.html">ä½¿ç”¨ Effect Hook</a>ã€‚</p>
</blockquote>
<h2 id="âœŒï¸-Rules-of-Hooks"><a href="#âœŒï¸-Rules-of-Hooks" class="headerlink" title="âœŒï¸ Rules of Hooks"></a>âœŒï¸ Rules of Hooks</h2><p>Hooks æ˜¯ JavaScript å‡½æ•°ï¼Œä½†å®ƒå¼ºåŠ äº†ä¸¤ä¸ªé¢å¤–çš„è§„åˆ™ï¼š</p>
<ul>
<li>åªåœ¨å‡½æ•°<strong>é¡¶å±‚</strong>è°ƒç”¨ Hooksã€‚ä¸è¦åœ¨å¾ªç¯ï¼Œæ¡ä»¶æˆ–åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨ Hookã€‚</li>
<li>Only call Hooks <strong>from React function components</strong>. Donâ€™t call Hooks from regular JavaScript functions. (There is just one other valid place to call Hooks â€“ your own custom Hooks. Weâ€™ll learn about them in a moment.)</li>
<li>åªåœ¨ <strong>React å‡½æ•°ç»„ä»¶</strong>ä¸­è°ƒç”¨ Hooksã€‚ä¸è¦åœ¨æ™®é€šçš„ JavaScript å‡½æ•°ä¸­è°ƒç”¨ Hookã€‚ï¼ˆè¿˜æœ‰å¦ä¸€ä¸ªè¢«å…è®¸çš„åœ°æ–¹è°ƒç”¨ Hooks â€“ ä½ çš„è‡ªå®šä¹‰ Hooksã€‚æˆ‘ä»¬ç¨åä¼šä»‹ç»å®ƒä»¬ã€‚ï¼‰</li>
</ul>
<p>æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/eslint-plugin-react-hooks">linter æ’ä»¶</a> æ¥å¼ºåˆ¶æ‰§è¡Œè¿™äº›è§„åˆ™ã€‚æˆ‘ä»¬çŸ¥é“è¿™äº›è§„åˆ™æœ€åˆå¯èƒ½çœ‹èµ·æ¥å¾ˆå—é™åˆ¶æˆ–ä»¤äººå›°æƒ‘ï¼Œä½†å®ƒä»¬å¯¹äºä½¿ Hooks è‰¯å¥½è¿è¡Œè‡³å…³é‡è¦ã€‚</p>
<blockquote>
<p><strong>è¯¦ç»†è§£é‡Š</strong><br>ä½ å¯ä»¥åœ¨æ­¤é¡µé¢ä¸Šäº†è§£å…³äº Hooks ä½¿ç”¨è§„åˆ™çš„æ›´å¤šä¿¡æ¯ï¼š<a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-rules.html">Hooks ä½¿ç”¨è§„åˆ™</a>ã€‚</p>
</blockquote>
<h2 id="ğŸ’¡-Building-Your-Own-Hooks"><a href="#ğŸ’¡-Building-Your-Own-Hooks" class="headerlink" title="ğŸ’¡ Building Your Own Hooks"></a>ğŸ’¡ Building Your Own Hooks</h2><p>æœ‰æ—¶ï¼Œæˆ‘ä»¬æƒ³åœ¨ç»„ä»¶é—´é‡ç”¨ä¸€äº›çŠ¶æ€çš„é€»è¾‘ã€‚ä»¥å‰ï¼Œæœ‰ä¸¤ä¸ªæµè¡Œçš„è§£å†³æ–¹æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://reactjs.org/docs/higher-order-components.html">é«˜é˜¶ç»„ä»¶</a>å’Œ <a target="_blank" rel="noopener" href="https://reactjs.org/docs/render-props.html">render props</a>ã€‚ç°åœ¨ï¼Œè‡ªå®šä¹‰ Hooks ä¹Ÿå…è®¸ä½ è¿™ä¹ˆåšï¼Œå¹¶æ— éœ€å‘ç»„ä»¶æ ‘ä¸­æ·»åŠ æ›´å¤šç»„ä»¶å±‚çº§ã€‚</p>
<p>åœ¨æœ¬é¡µå‰é¢ï¼Œæˆ‘ä»¬ä»‹ç»äº†ä¸€ä¸ª <code>FriendStatus</code> ç»„ä»¶,è°ƒç”¨ <code>useState</code> å’Œ <code>useEffect</code> Hooks è®¢é˜…æœ‹å‹çš„åœ¨çº¿çŠ¶æ€ã€‚å‡è®¾æˆ‘ä»¬è¿˜å¸Œæœ›åœ¨å¦ä¸€ä¸ªç»„ä»¶ä¸­é‡ç”¨æ­¤è®¢é˜…é€»è¾‘ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†è¿™ä¸ªé€»è¾‘æå–åˆ°ä¸€ä¸ªåä¸º <code>useFriendStatus</code> çš„è‡ªå®šä¹‰ Hook ä¸­ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useFriendStatus</span>(<span class="params">friendID</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [isOnline, setIsOnline] = useState(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleStatusChange</span>(<span class="params">status</span>) </span>&#123;</span><br><span class="line">    setIsOnline(status.isOnline);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    ChatAPI.subscribeToFriendStatus(friendID, handleStatusChange);</span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      ChatAPI.unsubscribeFromFriendStatus(friendID, handleStatusChange);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> isOnline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>å®ƒæ¥æ”¶ <code>friendID</code> ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›æˆ‘ä»¬çš„æœ‹å‹æ˜¯å¦åœ¨çº¿ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥ä»ä¸¤ä¸ªç»„ä»¶ä¸­ä½¿ç”¨å®ƒï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FriendStatus</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> isOnline = useFriendStatus(props.friend.id);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (isOnline === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Loading...&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> isOnline ? <span class="string">&#x27;Online&#x27;</span> : <span class="string">&#x27;Offline&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FriendListItem</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> isOnline = useFriendStatus(props.friend.id);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">style</span>=<span class="string">&#123;</span> &#123; <span class="attr">color:</span> <span class="attr">isOnline</span> ? &#x27;<span class="attr">green</span>&#x27; <span class="attr">:</span> &#x27;<span class="attr">black</span>&#x27; &#125; &#125;&gt;</span></span></span><br><span class="line"><span class="xml">      &#123;props.friend.name&#125;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>è¿™äº›ç»„ä»¶çš„çŠ¶æ€æ˜¯å®Œå…¨ç‹¬ç«‹çš„ã€‚Hooks æ˜¯é‡ç”¨å·²æœ‰<em>çŠ¶æ€é€»è¾‘</em>çš„ä¸€ç§æ–¹å¼ï¼Œè€Œä¸æ˜¯çŠ¶æ€çš„æœ¬èº«ã€‚äº‹å®ä¸Šï¼Œæ¯æ¬¡<em>è°ƒç”¨</em> Hook éƒ½æœ‰ä¸€ä¸ªå®Œå…¨éš”ç¦»çš„çŠ¶æ€â€“æ‰€ä»¥ä½ ç”šè‡³å¯ä»¥åœ¨ä¸€ä¸ªç»„ä»¶ä¸­ä½¿ç”¨ç›¸åŒçš„è‡ªå®šä¹‰Hook ä¸¤æ¬¡ã€‚</p>
<p>è‡ªå®šä¹‰ Hooks æ›´åƒæ˜¯ä¸€ç§çº¦å®šè€ŒéåŠŸèƒ½ã€‚å¦‚æœå‡½æ•°çš„åç§°ä»¥â€œuseâ€å¼€å¤´å¹¶ä¸”å®ƒè°ƒç”¨äº†å…¶ä»– Hooksï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºè‡ªå®šä¹‰ Hookã€‚<code>useSomething</code> çš„å‘½åçº¦å®šä½¿æˆ‘ä»¬çš„ linter æ’ä»¶èƒ½å¤Ÿåœ¨ä½¿ç”¨ Hooks çš„ä»£ç ä¸­æŸ¥æ‰¾é”™è¯¯ã€‚</p>
<p>You can write custom Hooks that cover a wide range of use cases like form handling, animation, declarative subscriptions, timers, and probably many more we havenâ€™t considered. We are excited to see what custom Hooks the React community will come up with.</p>
<p>ä½ å¯ä»¥ç¼–å†™è‡ªå®šä¹‰ Hooksï¼Œæ¶µç›–æ›´å¹¿æ³›çš„ä½¿ç”¨åœºæ™¯ï¼Œå¦‚è¡¨å•å¤„ç†ï¼ŒåŠ¨ç”»ï¼Œå£°æ˜è®¢é˜…ï¼Œè®¡æ—¶å™¨ï¼Œä»¥åŠæ›´å¤šæˆ‘ä»¬æ²¡æœ‰è€ƒè™‘è¿‡çš„ã€‚æˆ‘ä»¬å¾ˆæœŸæœ›çœ‹åˆ° React ç¤¾åŒºå‘å¸ƒå„ç§å®šåˆ¶çš„ Hooksã€‚</p>
<blockquote>
<p><strong>è¯¦ç»†è¯´æ˜</strong><br>ä½ å¯ä»¥åœ¨æ­¤ä¸“é¢˜é¡µé¢ä¸Šå…³äºè‡ªå®šä¹‰ Hook çš„æ›´å¤šä¿¡æ¯ï¼š<a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-custom.html">åˆ›é€ ä½ è‡ªå·±çš„ Hooks</a>ã€‚</p>
</blockquote>
<h2 id="ğŸ”Œ-Other-Hooks"><a href="#ğŸ”Œ-Other-Hooks" class="headerlink" title="ğŸ”Œ Other Hooks"></a>ğŸ”Œ Other Hooks</h2><p>ä½ å¯èƒ½ä¼šå‘ç°ä¸€äº›ä¸å¤ªå¸¸ç”¨çš„å†…ç½® Hooks ä¹Ÿå¾ˆæœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œ <a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html#usecontext"><code>useContext</code></a> å…è®¸ä½ ä¸å¼•å…¥åµŒå¥—æ¥è®¢é˜… React contextï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> locale = useContext(LocaleContext);</span><br><span class="line">  <span class="keyword">const</span> theme = useContext(ThemeContext);</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html#usereducer"><code>useReducer</code></a> å…è®¸ä½ ä½¿ç”¨ reducer ç®¡ç†å¤æ‚ç»„ä»¶çš„å†…éƒ¨çŠ¶æ€ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Todos</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [todos, dispatch] = useReducer(todosReducer);</span><br><span class="line">  <span class="comment">// ...</span></span><br></pre></td></tr></table></figure>


<blockquote>
<p><strong>è¯¦ç»†è¯´æ˜</strong><br>ä½ å¯ä»¥åœ¨æ­¤é¡µé¢ä¸Šäº†è§£å…³äºå†…ç½® Hooks çš„æ›´å¤šä¿¡æ¯ï¼š<a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html">Hooks API å‚è€ƒ</a>ã€‚</p>
</blockquote>
<h2 id="Next-Steps"><a href="#Next-Steps" class="headerlink" title="Next Steps"></a>Next Steps</h2><p>å¦‚æœè¿™äº›ä»‹ç»å¯¹ä½ æ¥è¯´å¤ªç®€å•äº†ï¼Œæˆ–è€…ä½ æƒ³è¯¦ç»†äº†è§£æ›´å¤šå†…å®¹ï¼Œå¯ä»¥é˜…è¯»ä¸‹ä¸€èŠ‚ï¼Œä» <a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-state.html">State Hook</a> çš„æ–‡æ¡£å¼€å§‹ã€‚</p>
<p>ä½ è¿˜å¯ä»¥æŸ¥çœ‹ <a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-reference.html">Hooks API å‚è€ƒ</a> å’Œ <a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-faq.html">Hookså¸¸è§é—®é¢˜è§£ç­”</a>ã€‚</p>
<p>æœ€åï¼Œä¸è¦é”™è¿‡<a target="_blank" rel="noopener" href="https://reactjs.org/docs/hooks-intro.html">ä»‹ç»é¡µ</a>ï¼Œå®ƒè§£é‡Šäº†æˆ‘ä»¬<em>ä¸ºä»€ä¹ˆ</em>è¦æ·»åŠ  Hooks ä»¥åŠæˆ‘ä»¬å°†å¦‚ä½•å¼€å§‹å°†å®ƒä»¬ä¸ç±»æ­é…ä½¿ç”¨ â€“ è€Œä¸é‡å†™æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚</p>

        </div>
        
<footer class="article-footer">
  <div class="cc">
    <a class="cc-images" rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">
      <img alt="çŸ¥è¯†å…±äº«è®¸å¯åè®®" style="border-width:0" src="/images/chooser_cc.png" />
      <img alt="çŸ¥è¯†å…±äº«è®¸å¯åè®®" style="border-width:0" src="/images/chooser_by.png" />
      <img alt="çŸ¥è¯†å…±äº«è®¸å¯åè®®" style="border-width:0" src="/images/chooser_nc.png" />
    </a>
    <span class="cc-text"> æœ¬ç½‘ç«™<strong>åŸåˆ›å†…å®¹ï¼ˆéè½¬è½½æ–‡ç« ï¼‰</strong>é‡‡ç”¨
      <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">
        çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®</a>
      è¿›è¡Œè®¸å¯ã€‚
    </span>
  </div>
</footer>
    </div>
</article>

    <section id="comments">
    
        
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<!--  
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
-->
<div id="comment-container"></div>
<script>
  $(function() {
    setTimeout(function() {
      var gitalk = new Gitalk({
        clientID: '010a558ff67c828f318a',
        clientSecret: '08a6f4955996cb3d6ecb5fdfb4d564a9297a264b',
        repo: 'tcatche.github.io.comments',
        owner: 'tcatche',
        admin: ['tcatche'],
        id: location.pathname.substr(0, 50),      // Ensure uniqueness and length less than 50
        distractionFreeMode: true,
        perPage: 30
      });
      gitalk.render('comment-container');
  
      // var gitment = new Gitment({
      //   id: location.pathname, // å¯é€‰ã€‚é»˜è®¤ä¸º location.href
      //   owner: 'tcatche',
      //   repo: 'tcatche.github.io.comments',
      //   oauth: {
      //     client_id: '010a558ff67c828f318a',
      //     client_secret: '08a6f4955996cb3d6ecb5fdfb4d564a9297a264b',
      //   },
      // })
      // gitment.render('comment-container');
    }, 100)
  })
</script>
    
    </section>


        </div>
      </section>
      
    </div>
  </div>
  <footer id="footer">
    <div class="container-inner">
        <div class="logo-wrap">
            <a href="/" class="logo"></a>
        </div>
        <div class="credit">
            <p>&copy; 2016 - 2021 tcatche</p>
            <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Hosted by <a  target="_blank" rel="noopener" href="https://pages.github.com/">Github Pages</a>. </p>
            <p>Theme based <a href="//github.com/ppoffice" target="_blank">PPOffice</a> and modify by Tcatche. </p>
            <p>
                <span id="busuanzi_container_site_pv">æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡</span>
                <!-- <span id="busuanzi_container_site_uv" style="display: none">æ€»è®¿å®¢<span id="busuanzi_value_site_uv"></span>äºº</span> -->
            </p>
        </div>
    </div>
</footer>
  <div id="fixed">
  <i class="fa-search ins-search-icon hide" name="search"></i>
  <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-image-wrapper"></div>
        <div class="ins-bookmark-wrapper">
            <div class="ins-bookmark-container"></div>
        </div>
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..." />
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
        <div class="ins-search-close">&times;</div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'æœ€æ–°æ–‡ç« ',
            PAGES: 'é¡µé¢',
            CATEGORIES: 'æ–‡ç« åˆ†ç±»',
            TAGS: 'æ–‡ç« æ ‡ç­¾',
            UNTITLED: '(æœªå‘½å)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>

  <i id="back-to-top" class="iconfont show-super-board-icon icon-super" name="goto top"></i>
  <i id="back-to-top" class="iconfont icon-icon_message" name="goto top"></i>
</div>
  


    
        
<script src="/libs/lightgallery/js/lightgallery.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-pager.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-zoom.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-hash.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-share.min.js"></script>

        
<script src="/libs/lightgallery/js/lg-video.min.js"></script>

    


<!-- Custom Scripts -->

<script src="/js/main.js"></script>


</body>
</html>
